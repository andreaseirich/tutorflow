{% extends 'core/base.html' %}
{% load i18n %}

{% block title %}{% if object %}{% trans "Edit Recurring Lesson" %}{% else %}{% trans "New Recurring Lesson" %}{% endif %} - TutorFlow{% endblock %}

{% block content %}
<h1>{% if object %}{% trans "Edit Recurring Lesson" %}{% else %}{% trans "New Recurring Lesson" %}{% endif %}</h1>

<div style="background: #e3f2fd; padding: 10px; border-radius: 5px; margin-bottom: 20px; border-left: 4px solid #2196f3;">
    <strong>ðŸ’¡ {% trans "What are recurring lessons?" %}</strong>
    <p style="margin: 5px 0 0 0; font-size: 0.9em;">
        {% trans "Recurring lessons allow you to create repeating lessons (e.g., 'every Monday at 2 PM'). After saving, all lessons for the specified period will be automatically generated." %}
    </p>
</div>

<form method="post">
    {% csrf_token %}
    {% for field in form %}
        <div class="form-group">
            <label for="{{ field.id_for_label }}">{{ field.label }}:</label>
            {{ field }}
            {% if field.errors %}
                <div class="error">{{ field.errors }}</div>
            {% endif %}
            {% if field.name == 'recurrence_type' %}
                <small class="form-text text-muted">
                    <strong>{% trans "Weekly:" %}</strong> {% trans "Every week on the selected weekdays." %}<br>
                    <strong>{% trans "Bi-weekly:" %}</strong> {% trans "Every second week on the selected weekdays." %}<br>
                    <strong>{% trans "Monthly:" %}</strong> {% trans "Every month on the same calendar day (e.g., every 15th of the month), if that day is a selected weekday." %}
                </small>
            {% endif %}
        </div>
    {% endfor %}
    
    <div class="btn-group">
        <button type="submit" class="btn btn-success">{% trans "Save and Generate Lessons" %}</button>
        <a href="{% url 'lessons:calendar' %}" class="btn btn-secondary">{% trans "Cancel" %}</a>
    </div>
</form>
{% endblock %}
